(function(i,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("react"),require("react/jsx-runtime")):typeof define=="function"&&define.amd?define(["react","react/jsx-runtime"],d):(i=typeof globalThis<"u"?globalThis:i||self,i.test=d(i.React,i.jsxRuntime))})(this,function(i,d){"use strict";function g(e){return e!=null&&e.kind===3}const F={},B=e=>{var r;return F({now:Date.now,scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:!1,supportsMicrotasks:!0,scheduleMicrotask:T,queueMicrotask:T,isPrimaryRenderer:(r=e==null?void 0:e.primary)!==null&&r!==void 0?r:!0,supportsMutation:!0,supportsHydration:!1,supportsPersistence:!1,getRootHostContext(){return{}},getChildHostContext(n){return n},createTextInstance(n,t){return t.createText(n)},createInstance(n,t,o){const{children:c,...s}=t;return o.createComponent(n,s)},commitTextUpdate(n,t,o){n.update(o)},prepareUpdate(n,t,o,c){const s={};let a=!1;for(const u in o)!v(o,u)||u==="children"||(u in c?o[u]!==c[u]&&(a=!0,s[u]=c[u]):(a=!0,s[u]=void 0));for(const u in c)!v(c,u)||u==="children"||u in o||(a=!0,s[u]=c[u]);return a?s:null},commitUpdate(n,t){n.updateProps(t)},appendChildToContainer(n,t){n.append(t)},insertInContainerBefore(n,t,o){n.insertBefore(t,o)},removeChildFromContainer(n,t){n.removeChild(t)},clearContainer(n){for(const t of n.children)n.removeChild(t)},appendInitialChild(n,t){n.append(t)},appendChild(n,t){n.append(t)},insertBefore(n,t,o){n.insertBefore(t,o)},removeChild(n,t){n.removeChild(t)},finalizeInitialChildren(){return!1},shouldSetTextContent(){return!1},getPublicInstance(){},prepareForCommit(){return null},resetAfterCommit(){},commitMount(){},preparePortalMount(){}})};function T(e){return typeof queueMicrotask=="function"?queueMicrotask:Promise.resolve(null).then(e).catch(R)}function R(e){setTimeout(()=>{throw e})}const{hasOwnProperty:_}={};function v(e,r){return _.call(e,r)}const k=i.createContext(null),f=new WeakMap,y=0,q=B();function A(e){return{render(r){M(r,e)},unmount(){f.has(e)&&(M(null,e),f.delete(e))}}}function M(e,r,n,t=q){let o=f.get(r);if(!o){var c;const m={container:Number(((c=i.version.split("."))===null||c===void 0?void 0:c[0])||18)>=18?t.createContainer(r,y,null,!1,null,"r-ui",()=>null,null):t.createContainer(r,y,!1,null),renderContext:{root:r,reconciler:t}};f.set(r,m),o=m}const{container:s,renderContext:a}=o;t.updateContainer(e&&d.jsx(k.Provider,{value:a,children:e}),s,null,n)}function O(){const e=i.useContext(k);if(e==null)throw new Error("No remote-ui Render instance found in context");return e}function E(e,{fragmentProps:r}={}){if(!r||!r.length)return e;const n=U(e,r);return n.displayName=e,n}function U(e,r){const n=e;return i.memo(function({children:o=[],...c}){const s=i.useRef({}),{root:a,reconciler:u}=O(),{props:m,children:D}=i.useMemo(()=>{const j=[],C={};for(const l of Object.keys(c)){const h=c[l];if(r.includes(l)&&i.isValidElement(h)){const N=s.current[l],p=g(N)?N:a.createFragment();s.current[l]=p,Object.assign(p,{createText(...x){return a.createText(...x)},createComponent(x,...H){return a.createComponent(x,...H)}});const G=u.createPortal(h,p,null,null);j.push(G),C[l]=p}else C[l]=h,delete s.current[l]}return{props:C,children:[...i.Children.toArray(o),...j]}},[o,c,a,u,s]);return d.jsx(n,{...m,children:D})})}const W=E("Card"),w=E("Button");self.onRender(e=>{A(e).render(i.createElement(I,null)),e.mount()});function I(){const[e,r]=i.useState("Card content");return i.createElement(W,null,e,i.createElement(w,{onPress:()=>{r("Youâ€™ve clicked!")}},"Click me!"))}return I});
